{"ast":null,"code":"import _slicedToArray from\"/Users/j_ninomiya/react-app/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import TaskForm from\"./TaskForm\";import{confirmAlert}from\"react-confirm-alert\";import Modal from\"react-modal\";import\"react-confirm-alert/src/react-confirm-alert.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var TaskList=function TaskList(_ref){var tasks=_ref.tasks,onDeleteTask=_ref.onDeleteTask,onEditTask=_ref.onEditTask,onUpdateTask=_ref.onUpdateTask;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),editTaskId=_useState2[0],setEditTaskId=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalIsOpen=_useState4[0],setModalIsOpen=_useState4[1];var handleEditTask=function handleEditTask(taskId){setEditTaskId(taskId);setModalIsOpen(true);};var closeModal=function closeModal(){setModalIsOpen(false);setEditTaskId(null);};return/*#__PURE__*/_jsx(\"ul\",{style:styles.list,children:tasks.slice().sort(function(a,b){var dateDiff=new Date(a.date)-new Date(b.date);if(dateDiff!==0){return dateDiff;}else{var _a$time$split=a.time.split(\":\"),_a$time$split2=_slicedToArray(_a$time$split,2),aHours=_a$time$split2[0],aMinutes=_a$time$split2[1];var _b$time$split=b.time.split(\":\"),_b$time$split2=_slicedToArray(_b$time$split,2),bHours=_b$time$split2[0],bMinutes=_b$time$split2[1];return aHours*60+aMinutes-(bHours*60+bMinutes);}}).map(function(task){return/*#__PURE__*/_jsxs(\"li\",{style:styles.listItem,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.taskContent,children:[task.date&&/*#__PURE__*/_jsxs(\"p\",{style:styles.taskDate,children:[task.date,\" \",task.time]}),task.title&&/*#__PURE__*/_jsx(\"p\",{style:styles.taskTitle,children:task.title}),task.comment&&/*#__PURE__*/_jsx(\"p\",{style:styles.taskComment,dangerouslySetInnerHTML:{__html:task.comment.replace(/\\n/g,'<br />')}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleEditTask(task.id);},style:styles.editButton,children:\"\\u7DE8\\u96C6\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return confirmAlert({title:\"タスクを削除しますか？\",message:\"\",buttons:[{label:\"はい\",onClick:function onClick(){return onDeleteTask(task.id);}},{label:\"いいえ\"}]});},style:styles.deleteButton,children:\"\\u524A\\u9664\"})]})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpen,onRequestClose:closeModal,style:customStyles,contentLabel:\"\\u30BF\\u30B9\\u30AF\\u7DE8\\u96C6\\u753B\\u9762\",children:[editTaskId&&/*#__PURE__*/_jsx(TaskForm,{onUpdateTask:onUpdateTask,editTask:tasks.find(function(task){return task.id===editTaskId;}),isEditing:true,onFinishEditing:closeModal}),/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,style:styles.closeButton,children:\"\\u9589\\u3058\\u308B\"})]})]},task.id);})});};var customStyles={content:{top:\"50%\",left:\"50%\",right:\"auto\",bottom:\"auto\",marginRight:\"-50%\",transform:\"translate(-50%, -50%)\"}};var styles={list:{listStyleType:\"none\",padding:\"0\"},listItem:{border:\"1px solid #CCC\",padding:\"15px\",marginBottom:\"10px\",borderRadius:\"4px\"},taskContent:{display:\"flex\",flexDirection:\"column\"},taskDate:{fontSize:\"12px\",margin:\"0\"},taskTitle:{fontSize:\"20px\",margin:\"10px 0\"},taskComment:{fontSize:\"16px\",margin:\"10px 0 30px\"},editButton:{marginRight:\"10px\",padding:\"5px 10px\",fontSize:\"14px\",backgroundColor:\"#007BFF\",color:\"white\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\"},deleteButton:{padding:\"5px 10px\",fontSize:\"14px\",backgroundColor:\"#dc3545\",color:\"white\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\"},closeButton:{padding:\"5px 10px\",fontSize:\"14px\",backgroundColor:\"#6c757d\",color:\"white\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\",marginTop:\"10px\",width:\"100%\"}};export default TaskList;","map":{"version":3,"names":["React","useState","TaskForm","confirmAlert","Modal","jsxs","_jsxs","jsx","_jsx","TaskList","_ref","tasks","onDeleteTask","onEditTask","onUpdateTask","_useState","_useState2","_slicedToArray","editTaskId","setEditTaskId","_useState3","_useState4","modalIsOpen","setModalIsOpen","handleEditTask","taskId","closeModal","style","styles","list","children","slice","sort","a","b","dateDiff","Date","date","_a$time$split","time","split","_a$time$split2","aHours","aMinutes","_b$time$split","_b$time$split2","bHours","bMinutes","map","task","listItem","taskContent","taskDate","title","taskTitle","comment","taskComment","dangerouslySetInnerHTML","__html","replace","onClick","id","editButton","message","buttons","label","deleteButton","isOpen","onRequestClose","customStyles","contentLabel","editTask","find","isEditing","onFinishEditing","closeButton","content","top","left","right","bottom","marginRight","transform","listStyleType","padding","border","marginBottom","borderRadius","display","flexDirection","fontSize","margin","backgroundColor","color","cursor","marginTop","width"],"sources":["/Users/j_ninomiya/react-app/my-app/src/TaskList.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport TaskForm from \"./TaskForm\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport Modal from \"react-modal\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\n\nconst TaskList = ({ tasks, onDeleteTask, onEditTask, onUpdateTask }) => {\n  const [editTaskId, setEditTaskId] = useState(null);\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n\n  const handleEditTask = (taskId) => {\n    setEditTaskId(taskId);\n    setModalIsOpen(true);\n  };\n\n  const closeModal = () => {\n    setModalIsOpen(false);\n    setEditTaskId(null);\n  };\n\n  return (\n    <ul style={styles.list}>\n      {tasks\n        .slice()\n        .sort((a, b) => {\n          const dateDiff = new Date(a.date) - new Date(b.date);\n          if (dateDiff !== 0) {\n            return dateDiff;\n          } else {\n            const [aHours, aMinutes] = a.time.split(\":\");\n            const [bHours, bMinutes] = b.time.split(\":\");\n            return aHours * 60 + aMinutes - (bHours * 60 + bMinutes);\n          }\n        })\n        .map((task) => (\n          <li key={task.id} style={styles.listItem}>\n            <div style={styles.taskContent}>\n              {task.date && <p style={styles.taskDate}>{task.date} {task.time}</p>}\n              {task.title && <p style={styles.taskTitle}>{task.title}</p>}\n              {task.comment && <p style={styles.taskComment} dangerouslySetInnerHTML={{ __html: task.comment.replace(/\\n/g, '<br />') }}></p>}\n              <div>\n                <button\n                  onClick={() => handleEditTask(task.id)}\n                  style={styles.editButton}\n                >\n                  編集\n                </button>\n                <button\n                  onClick={() =>\n                    confirmAlert({\n                      title: \"タスクを削除しますか？\",\n                      message: \"\",\n                      buttons: [\n                        {\n                          label: \"はい\",\n                          onClick: () => onDeleteTask(task.id),\n                        },\n                        {\n                          label: \"いいえ\",\n                        },\n                      ],\n                    })\n                  }\n                  style={styles.deleteButton}\n                >\n                  削除\n                </button>\n              </div>\n            </div>\n            <Modal\n              isOpen={modalIsOpen}\n              onRequestClose={closeModal}\n              style={customStyles}\n              contentLabel=\"タスク編集画面\"\n            >\n              {editTaskId && (\n                <TaskForm\n                  onUpdateTask={onUpdateTask}\n                  editTask={tasks.find((task) => task.id === editTaskId)}\n                  isEditing={true}\n                  onFinishEditing={closeModal}\n                />\n              )}\n              <button onClick={closeModal} style={styles.closeButton}>\n                閉じる\n              </button>\n            </Modal>\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n};\n\nconst styles = {\n  list: {\n    listStyleType: \"none\",\n    padding: \"0\",\n  },\n  listItem: {\n    border: \"1px solid #CCC\",\n    padding: \"15px\",\n    marginBottom: \"10px\",\n    borderRadius: \"4px\",\n  },\n  taskContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  taskDate: {\n    fontSize: \"12px\",\n    margin: \"0\",\n  },\n  taskTitle: {\n    fontSize: \"20px\",\n    margin: \"10px 0\",\n  },\n  taskComment: {\n    fontSize: \"16px\",\n    margin: \"10px 0 30px\",\n  },\n  editButton: {\n    marginRight: \"10px\",\n    padding: \"5px 10px\",\n    fontSize: \"14px\",\n    backgroundColor: \"#007BFF\",\n    color: \"white\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n  },\n  deleteButton: {\n    padding: \"5px 10px\",\n    fontSize: \"14px\",\n    backgroundColor: \"#dc3545\",\n    color: \"white\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n  },\n  closeButton: {\n    padding: \"5px 10px\",\n    fontSize: \"14px\",\n    backgroundColor: \"#6c757d\",\n    color: \"white\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n    marginTop: \"10px\",\n    width: \"100%\",\n  },\n};\n\nexport default TaskList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}